(function(t,c){typeof exports=="object"&&typeof module!="undefined"?module.exports=c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(t=typeof globalThis!="undefined"?globalThis:t||self,t.n=c(t.Vue))})(this,function(t){"use strict";function c(e,n,l){l!==void 0?e.style[n]=l:e.style=n}function a(e,n=1e3){let l=0;return function(...o){let i=Date.now();i-l>n&&(l=i,e.apply(this,o))}}var s=t.defineComponent({name:"MgBacktop",props:{right:{default:30},bottom:{default:30},appendBody:{default:!1},target:{type:String},visibleTop:{default:0}},emits:["click"],setup(e,n){const l=t.ref(!1);let o;function i(){let d;d=(o===document?document.documentElement||document.body:o).scrollTop,l.value=d<e.visibleTop}function r(d){i()}t.onMounted(()=>{o=e.target&&document.querySelector(e.target)||document,e.visibleTop>0&&(l.value=!0,o.addEventListener("scroll",r))}),t.watch(()=>e.target,d=>{o.removeEventListener("scroll",r),o=e.target&&document.querySelector(e.target)||document,o.addEventListener("scroll",r),i()}),t.watchEffect(()=>{o&&e.visibleTop>0&&i()});const u=t.computed(()=>({right:`${e.right}px`,bottom:`${e.bottom}px`}));function y(){n.emit("click");let d=e.target?document.querySelector(e.target):null;if(d){if(d.scrollTop==0)return;c(d,"scrollBehavior","smooth"),d.scrollTop=0,c(d,"scrollBehavior","")}else document.body.scrollTop=document.documentElement.scrollTop=0}const g=a(y);return{style:u,toTop:g,hidden:l}}});const f=t.createVNode("i",{class:"mg-icon-backtop"},null,-1);function m(e,n,l,o,i,r){return t.openBlock(),t.createBlock(t.Teleport,{to:"body",disabled:!e.appendBody},[t.createVNode("div",{class:["mg-backtop",{"mg-backtop-hidden":e.hidden}],style:e.style,onClick:n[1]||(n[1]=u=>e.toTop(u))},[t.renderSlot(e.$slots,"default",{},()=>[f])],6)],8,["disabled"])}s.render=m;var p={name:"MgBacktop",install(e,n={}){e.component(s.name,s)}};return p});
