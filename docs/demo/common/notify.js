(function(o,r){typeof exports=="object"&&typeof module!="undefined"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(o=typeof globalThis!="undefined"?globalThis:o||self,o.n=r(o.Vue))})(this,function(o){"use strict";function r(t,e=1e3){let i=0;return function(...n){let s=Date.now();s-i>e&&(i=s,t.apply(this,n))}}var a=o.defineComponent({name:"MgNofity",props:{content:String,title:String,position:{default:"topRight",type:String,validator(t){return["topLeft","topRight","bottomLeft","bottomRight"].includes(t)}},type:{type:String,validator(t){return["success","warning","error","info"].includes(t)}},icon:{type:String},duration:{default:3500,type:Number},closable:{default:!1},gap:{type:Number}},emits:["close"],setup(t,{emit:e}){var i;const n=o.getCurrentInstance();let s;t.duration&&t.duration>0&&(s=setTimeout(()=>{e("close",t.position,n==null?void 0:n.vnode.el)},t.duration));const c=r(()=>{s&&clearTimeout(s),e("close",t.position,n==null?void 0:n.vnode.el)}),l={};return t.gap&&(((i=t.position)==null?void 0:i.startsWith("top"))?l["margin-top"]=t.gap+"px":l["margin-bottom"]=t.gap+"px"),{userStyles:l,closeByicon:c}}});const p=o.createVNode("i",{class:"mg-icon-close"},null,-1),f={class:"mg-notify-container"},u={class:"mg-notify-title"},y={class:"mg-notify-content"};function g(t,e,i,n,s,c){return o.openBlock(),o.createBlock("div",{class:["mg-notify",[t.position]],style:t.userStyles},[t.closable?(o.openBlock(),o.createBlock("div",{key:0,class:"mg-notify-close",onClick:e[1]||(e[1]=l=>t.closeByicon())},[p])):o.createCommentVNode("v-if",!0),t.type||t.icon?(o.openBlock(),o.createBlock("div",{key:1,class:["mg-notify-icon",t.type?"mg-notify--"+t.type:"mg-notify--primary"]},[t.icon?(o.openBlock(),o.createBlock("div",{key:0,innerHTML:t.icon},null,8,["innerHTML"])):(o.openBlock(),o.createBlock("i",{key:1,class:"mg-icon-"+t.type},null,2))],2)):o.createCommentVNode("v-if",!0),o.createVNode("div",f,[o.createVNode("div",u,o.toDisplayString(t.title),1),o.createVNode("div",y,o.toDisplayString(t.content),1)])],6)}a.render=g;function m(t,e){t.addEventListener("transitionend",e,{once:!0})}function h(t){const e=t.getBoundingClientRect();return t.positionBy==="top"?e.bottom-t.positionValue:window.innerHeight-t.positionValue-e.top}const d={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[]};function B(t,e,i){const n=t.indexOf("top")>-1?"top":"bottom",s=i[i.length-1];let c=0;s&&(c=s.positionValue+s._offsetHeight),c=parseInt(c),e.queueIndex=i.length,e.positionBy=n,e.positionValue=c,e.style[n]=c+"px"}function k(t,e){const i=t.position||"topRight",n=d[i];return B(i,e,n),n.push(e),n}function b(t,e){if(e.classList.add("notifyFade"),m(e,i=>{e.parentElement.removeChild(e)}),e.queueIndex!==t.length-1){const i=e.positionBy,n=e._offsetHeight;t.slice(e.queueIndex+1).forEach(s=>{s.positionValue-=n,s.style[i]=s.positionValue+"px"})}t.splice(e.queueIndex,1),t.forEach((i,n)=>i.queueIndex=n)}function V(t){t._offsetHeight=h(t)}function C(t){const e=t.onClose;t.onClose=(i,n)=>{b(d[i],n),e&&e()}}function N(t){C(t);const e=o.h(a,t),i=document.createElement("div");o.render(e,i);const n=e.el;k(t,n),document.body.appendChild(n),V(n)}var S={install(t,e={}){t.config.globalProperties.$notify=N}};return S});
